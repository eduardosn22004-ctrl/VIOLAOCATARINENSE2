---
import Layout from '../layouts/Layout.astro';

// --- BANCO DE DADOS DA DISCOGRAFIA ---
const discografia = [
  {
    nome: "Andrei Uller",
    albuns: [
      {
        id: "violaocat1",
        titulo: "Violão Catarinense",
        ano: "2012",
        capa: "/images/capa/violaocat.jpg",
        faixas: ["Romanceiro - Edino Krieger", "Prelúdio- Edino Krieger", "Canção do Infinito no.3 - Ricardo Boppré", "Alternâncias- Edino Krieger","Ritmata- Edino Krieger","Passacalha Para Fred Schneiter- Edino Krieger","Fazenda Norte - Otávio Rosa",
"Reconciliação - Andrei Uller"]
      },
      {
        id: "violaocat2",
        titulo: "Violão Catarinense - Volume II",
        ano: "2019",
        capa: "/images/capa/violaocat2.jpg",
        faixas: ["Eucaliptos ao Vento - Otávio Rosa", "Sehnsucht - Rafael Marciniak", "Ruínas - Gil Medeiros","Apotheose - Andrei Uller","Á Breve Infância - Marco Cardozo","O Harpear - Marco Cardozo","Estudo Simplório - Marco Cardozo","Vil Metal - Marco Cardozo",
"Moinho - Joel Colman","Jusciele - Andrei Uller","II Neige! - Henrique Oswald"]
      }
    ]
  },
  {
    nome: "Joel Colman",
    albuns: [
      {
        id: "terraguar",
        titulo: "Terraguar",
        ano: "1997",
        capa: "/images/capa/terraguar.jpg",
        faixas: ["Despertar", "Dança Dos Ventos", "Moinho", "Lembranças Do Passado", "Cordilheira", "Alabama", "América Do Sol", "Tene And C", "Sonho Dourado", "Going Home", "Celebração", "Rosa Branca", "Refúgio", "Deja-Vu", "Trem Caipira", "Dimensão"]
      }
    ]
  },
  {
    nome: "Darcy Villa Verde",
    albuns: [
      {
        id: "darcy-completo",
        titulo: "Darcy Villa Verde- Disco Compacto",
        ano: "1962",
        capa: "/images/capa/darcycompacto.jpg",
        faixas: ["Foi Ela - Ary Barroso", "Eu sonhei que tu estavas tão linda - Lamartine Babo e F. Matoso", "A felicidade - Tom Jobim e Vinicius de Moraes", "Se tu soubesse - Jorge Moram e Cristovão de Alencar"]
      }
    ]
  },
 {
    nome: "Vitor Garbelotto",
    albuns: [
      {
        id: "radamescompleto",
        titulo: "Radamés Gnattali - Integral Para Violão Solo",
        ano: "2010",
        capa: "/images/capa/radamescompleto.avif",
        faixas: ["Pastoril", "Toada", "Valsa", "Dança Brasileira", "Frevo", "Samba", "Choro", "Tocata Em Ritmo De Samba Nº 2", "Tocata Em Ritmo De Samba Nº 1", "Estudo I - Presto Possible", 
"Estudo II - Valsa Seresteira", "Estudo III - Moderato", "Estudo IV - Lento Espressivo", "Estudo V - Allegretto", "Estudo VI - Ritmado", "Estudo VII - Comodo", "Estudo VIII - Moderato", "Estudo IX - Lento", "Estudo XX - Dolente"]
      },
{
        id: "radamessarau",
        titulo: "Sarau Para Radamés",
        ano: "2015",
        capa: "/images/capa/radamessarau.avif",
        faixas: ["Camará", "Meu Amigo Radamés","Sarau Para Radamés", "Escorregando", "Obrigado, Paulinho", "Vaidosa Nº 1","Remexendo", "Rosa", "Lamentos do Morro", "Canto De Iemanjá", "Canto De Xangô", "Suspiro"]
      }
    ]
  },
{
    nome: "Leandro Bastos",
    albuns: [
      {
        id: "lechorinhos",
        titulo: "Chorinhos",
        ano: "2023",
        capa: "/images/capa/lechorinhos.avif",
        faixas: ["Chorinho da Marina","Chorinho do Ravi","Chorinho do Rian"]
      }
    ]
  },
{
    nome: "Ney Souza",
    albuns: [
      {
        id: "itajahy",
        titulo: "Itajahy",
        ano: "2025",
        capa: "/images/capa/itajahy.avif",
        faixas: ["Kurupi", "AfroZorro", "Expectativas", "Paulistano", "Samba de Tempo Feliz", "Choro Pro Villa", "Saudade do Tom", "Caravana do Amanhã", "Variações Sambadas", "Jeré"]
      },
{
        id: "aconcagua",
        titulo: "aconcagua",
        ano: "2025",
        capa: "/images/capa/aconcagua.avif",
        faixas: ["Ave Rara", "Cancion De Las Simples Cosas", "Azúcar de Caña", "Poesía #1 - Que Trapasen Los Andes Sus Murallas", "Extraña Norma", "Zamba Del Laurel", "Poesía #2 - Por Allá Estará El Mar", "Maré de Quarto", "Dentro de Mim Mora Um Anjo"]
      },
    ]
  },
{
    nome: "Ricardo Boppré",
    albuns: [
      {
        id: "violao2d",
        titulo: "Violão Em Duas Dimensões",
        ano: "1980",
        capa: "/images/capa/violao2d.jpg",
        faixas: ["Abismos de Rosas - Américo Jacomino", "Noite de Estrelas", "Romance de Amor - Antônio Rovira", "Jesus Alegria Dos Homens - J.S. Bach", "Caixinha de Música - Isaías Sávio", "Asa Branca - Luiz Gonzaga", 
"Noturno - Op.9 N°2 - F. Chopin", "Adágio Sostenuto da Sonata Ao Luar - L. V. Beethoven", "Fascinação - F. D. Marchetti", "Le Lac De Come - G. Galo", "Sons de Carrilhões - João Pernambuco"]
      },
{
        id: "violao3d",
        titulo: "Violão, Violão & Violão",
        ano: "1983",
        capa: "/images/capa/violao3d.jpg",
        faixas: ["Odeon - Ernesto Nazareth", "Serenata do Adeus - Vinicius de Morais", "Allegro Da Sinfonia Nº 40, K. 550 - Mozart", "Romance De Amor - Antônio Rovira", "Andréa - Alceni Duarte", "Aquarela Brasileira - Ari Barroso", 
"As Pastorinhas - João De Barro, Noel Rosa", "Song For Anna - André Popp", "Pedacinhos Do Céu - Waldir Azevedo", "Dúvida","Ontem, Ao Luar - Catullo Da Paixão Cearense", "Ave Maria - Franz Schubert"]
      },
{
        id: "universoviolao",
        titulo: "O Universo do Violão",
        ano: "1985",
        capa: "/images/capa/universoviolao.jpg",
        faixas: ["Carinhoso - Pixinguinha", "Canção Para Luiz Ricardo", "Canção Para Luiz Ricardo - Denise Baptista Boppré", "Aurélio - Luiz Aurélio Baptista", "Gente Humilde - Chico, Garoto, Vinicius", 
"Luar Do Sertão - Catulo Da Paixão Cearense", "Ave Maria - Gounod, Bach", "Apanhei-Te, Cavaquinho - Ernesto Nazareth", "Brejeiro - Ernesto Nazareth", "Cavatina - Stanley Myers", "Na Baixa Do Sapateiro - Ary Barroso", 
"Ária Da Quarta Corda - Bach", "Choro Para Denise", "Foi Boto, Sinhá - Waldemar Henrique"]
      }    
    ]
  },
{
    nome: "Leandro Fortes",
    albuns: [
      {
        id: "alujazz",
        titulo: "Alujazz",
        ano: "2016",
        capa: "/images/capa/alujazz.avif",
        faixas: ["Afro Shark", "Daqui A Meia Hora", "A Prueba de Água", "Festejando", "Em Trânsito", "Ligeirinha", "Novos Rumos, Velhos Sonhos", "Alujazz", "Ofensiva", "Olha Agulha Pra Fogão a Gás, Muleke"]
      },
{
        id: "escolhas",
        titulo: "Escolhas",
        ano: "2012",
        capa: "/images/capa/escolhas.avif",
        faixas: ["Irmã", "Por Diferentes Caminhos", "Um Lugar Esquecido", "Sol e o Silêncio", "Gérbera Vermelha", "No Meio da Noite", "Nada a Perder", "Depois da Tempestade", "De Inspiração"]
      },
{
        id: "instrumentalcasa",
        titulo: "Instrumental da Casa",
        ano: "2015",
        capa: "/images/capa/instrumentalcasa.jpg",
        faixas: ["Onde Nasce A Paixão", "Valsa Dos Desencontros", "Pomerode", "Saudades de Astoria"]
      },
{
        id: "diagonal",
        titulo: "Diagonal",
        ano: "2018",
        capa: "/images/capa/diagonal.avif",
        faixas: ["Força", "Quase Como Uma Perda", "Vamos em Frente", "Pra Fechar o Dia Bem", "O Voo dos Sapatos", "Vai Maurici", "Recomeço", "Pomerode"]
      },
]
}


];

discografia.sort((a, b) => a.nome.localeCompare(b.nome));
---

<Layout title="Violão Catarinense">
    
    <div class="max-w-6xl mx-auto py-12 px-6 relative overflow-hidden">
        
        <svg class="absolute top-10 left-10 text-stone-200 w-24 h-24 -rotate-12 z-[-1]" fill="currentColor" viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
        <svg class="absolute top-40 right-10 text-stone-200 w-32 h-32 rotate-12 z-[-1]" fill="currentColor" viewBox="0 0 24 24"><path d="M22 3h-8v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h6V3z"/></svg>

        <header class="text-center mb-20">
            
            <div class="flex flex-col md:flex-row items-center justify-center gap-6 mb-8">
                
                <div class="relative w-40 h-32 bg-gradient-to-br from-amber-800 to-amber-950 rounded-xl shadow-[0_10px_20px_rgba(0,0,0,0.4)] border-b-4 border-r-4 border-amber-900 p-3 flex items-center transform hover:scale-105 hover:-translate-y-1 transition-all duration-500">
                    
                    <div class="relative w-24 h-24">
                        <div class="absolute inset-0 bg-stone-900 rounded-full shadow-lg border border-stone-700"></div>
                        
                        <div class="absolute inset-0 rounded-full animate-[spin_2s_linear_infinite] flex items-center justify-center pointer-events-none">
                            <div class="absolute w-[85%] h-[85%] rounded-full border border-white/10"></div>
                            <div class="absolute w-[70%] h-[70%] rounded-full border border-white/10"></div>
                            <div class="absolute w-[55%] h-[55%] rounded-full border border-white/10"></div>
                            
                            <div class="w-10 h-10 bg-red-600 rounded-full relative overflow-hidden">
                                <div class="w-full h-1/2 bg-white/20 absolute top-0"></div>
                            </div>
                        </div>

                        <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                            <div class="w-2.5 h-2.5 bg-gray-300 rounded-full shadow-inner z-10 border border-stone-500"></div>
                        </div>
                    </div>

                    <div class="absolute top-4 right-4 w-10 h-20 origin-[top_right] rotate-[18deg] z-10">
                        <div class="absolute top-0 right-0 w-5 h-5 bg-gradient-to-br from-gray-300 to-gray-500 rounded-full shadow-md border border-gray-600"></div>
                        <div class="absolute top-2 right-[8px] w-[4px] h-16 bg-gradient-to-b from-gray-300 to-gray-500 rounded-full"></div>
                        <div class="absolute bottom-[-2px] right-[2px] w-4 h-6 bg-stone-800 rounded-sm shadow-sm rotate-[12deg] border border-stone-600"></div>
                    </div>

                    <div class="absolute bottom-4 right-3 flex flex-col gap-2">
                        <div class="w-3 h-3 bg-gradient-to-br from-gray-300 to-gray-500 rounded-full shadow-md border border-gray-600"></div>
                        <div class="w-3 h-3 bg-gradient-to-br from-gray-300 to-gray-500 rounded-full shadow-md border border-gray-600"></div>
                    </div>
                </div>

                <h1 class="text-5xl md:text-6xl font-black text-red-700 tracking-tight flex items-center gap-3 drop-shadow-sm">
                    Discografia
                </h1>
            </div>

            <p class="text-xl text-stone-600 max-w-2xl mx-auto leading-relaxed flex items-center justify-center gap-2">
                Para conhecer a discografia contribuinte para o repertório 
                violonístico no estado de Santa Catarina, acesse a lista abaixo.
            </p>
        </header>

        <div class="space-y-24">
            {discografia.map((artista) => (
                <section class="relative">
                    <h2 class="text-3xl font-bold text-red-700 mb-10 flex items-center gap-4">
                        <span class="h-px flex-1 bg-gradient-to-r from-transparent to-rose-500"></span>
                        
                        <span class="drop-shadow-[0_2px_2px_rgba(0,0,0,0.25)]">
                            {artista.nome}
                        </span>
                        
                        <span class="h-px flex-1 bg-gradient-to-l from-transparent to-rose-500"></span>
                    </h2>

                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-12 gap-y-16 pt-4">
                        {artista.albuns.map((album) => (
                            <button 
                                onclick={`abrirAlbum('${album.id}', '${artista.nome}')`}
                                class="group flex flex-col text-left bg-transparent rounded-xl overflow-visible focus:outline-none"
                            >
                                <div class="relative w-[80%] aspect-square mb-4 mx-auto shrink-0">
                                    
                                    <div class="absolute inset-0 bg-gradient-to-br from-stone-800 to-black rounded-full shadow-lg flex items-center justify-center border border-stone-700 transition-all duration-700 ease-out group-hover:translate-x-[55%] group-hover:rotate-180 z-0">
                                        <div class="absolute w-[90%] h-[90%] rounded-full border border-white/10"></div>
                                        <div class="absolute w-[75%] h-[75%] rounded-full border border-white/10"></div>
                                        <div class="absolute w-[60%] h-[60%] rounded-full border border-white/10"></div>
                                        
                                        <div class="w-[33%] h-[33%] bg-red-700 rounded-full flex items-center justify-center border-[4px] border-[#111] relative overflow-hidden">
                                            <div class="absolute w-full h-1/2 top-0 bg-white/10 rounded-t-full"></div>
                                            <div class="w-3 h-3 bg-stone-200 rounded-full shadow-[inset_0_2px_4px_rgba(0,0,0,0.8)] z-10 border border-stone-400 relative"></div>
                                        </div>
                                    </div>

                                    <div class="absolute inset-0 z-10 bg-gray-200 rounded-md shadow-md transition-transform duration-700 ease-out group-hover:-translate-x-3 group-hover:shadow-2xl border border-stone-200">
                                        <img 
                                            src={album.capa} 
                                            alt={album.titulo} 
                                            class="absolute inset-0 w-full h-full object-cover rounded-md"
                                        />
                                        <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 rounded-md flex items-center justify-center">
                                            <svg class="w-12 h-12 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 drop-shadow-lg" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="px-4 z-20 relative text-center">
                                    <h3 class="font-bold text-gray-800 group-hover:text-rose-700 text-sm md:text-base leading-tight line-clamp-2 transition-colors">
                                        {album.titulo}
                                    </h3>
                                    <p class="text-xs text-gray-500 mt-2 font-bold tracking-widest flex items-center justify-center gap-1">
                                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                                        {album.ano}
                                    </p>
                                </div>

                                <div id={`data-${album.id}`} class="hidden">
                                    <span class="data-titulo">{album.titulo}</span>
                                    <span class="data-ano">{album.ano}</span>
                                    <span class="data-capa">{album.capa}</span>
                                    <span class="data-faixas">{JSON.stringify(album.faixas)}</span>
                                </div>
                            </button>
                        ))}
                    </div>
                </section>
            ))}
        </div>
    </div>

    <div id="modal-overlay" class="fixed inset-0 z-50 hidden bg-stone-900/90 backdrop-blur-md flex items-center justify-center p-4 opacity-0 transition-opacity duration-300">
        
        <div class="bg-white rounded-3xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl relative transform scale-95 transition-transform duration-300" id="modal-content">
            
            <button onclick="fecharModal()" class="absolute top-6 right-6 bg-white/80 hover:bg-rose-600 hover:text-white text-gray-800 rounded-full p-2 transition-all z-20 shadow-lg border border-gray-200">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>

            <div class="grid grid-cols-1 md:grid-cols-2">
                <div class="bg-stone-100 p-6 md:p-12 flex flex-col items-center justify-center relative overflow-hidden">
                    <svg class="absolute -bottom-10 -left-10 text-stone-200 w-48 h-48 opacity-50 z-0" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"/></svg>
                    
                    <img id="modal-capa" src="" alt="Capa" class="w-full aspect-square object-cover rounded-lg shadow-[0_20px_40px_rgba(0,0,0,0.3)] z-10 border border-stone-200" />
                </div>

                <div class="p-8 md:p-12 bg-white z-10">
                    <p id="modal-autor" class="text-xs font-black tracking-[0.2em] text-rose-600 uppercase mb-3 flex items-center gap-2">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"></path></svg>
                        ARTISTA
                    </p>
                    <h2 id="modal-titulo" class="text-3xl md:text-4xl font-bold text-gray-900 mb-4 leading-tight">Título</h2>
                    
                    <div class="flex items-center gap-2 text-stone-500 mb-8 bg-stone-50 w-fit px-3 py-1.5 rounded-md border border-stone-200 shadow-sm">
                        <svg class="w-4 h-4 text-stone-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg>
                        <span class="text-sm font-semibold">Lançamento: <span id="modal-ano"></span></span>
                    </div>

                    <div class="space-y-4">
                        <h3 class="text-lg font-bold text-gray-800 border-b border-gray-100 pb-2 flex items-center gap-2">
                            <svg class="w-5 h-5 text-red-700" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg>
                            Lista de Faixas
                        </h3>
                        <ol id="modal-faixas" class="space-y-3 text-gray-600"></ol>
                    </div>
                </div>
            </div>
        </div>
    </div>

</Layout>

<script is:inline>
    const overlay = document.getElementById('modal-overlay');
    const content = document.getElementById('modal-content');
    const mTitulo = document.getElementById('modal-titulo');
    const mAutor = document.getElementById('modal-autor');
    const mAno = document.getElementById('modal-ano');
    const mCapa = document.getElementById('modal-capa');
    const mFaixas = document.getElementById('modal-faixas');

    window.abrirAlbum = (id, nomeAutor) => {
        const dataDiv = document.getElementById(`data-${id}`);
        if (!dataDiv) return;

        const titulo = dataDiv.querySelector('.data-titulo').innerText;
        const ano = dataDiv.querySelector('.data-ano').innerText;
        const capa = dataDiv.querySelector('.data-capa').innerText;
        const faixas = JSON.parse(dataDiv.querySelector('.data-faixas').innerText);

        mTitulo.innerText = titulo;
        mAutor.innerHTML = `<svg class="w-4 h-4 inline-block mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"></path></svg> ${nomeAutor}`;
        mAno.innerText = ano;
        mCapa.src = capa;

        mFaixas.innerHTML = ''; 
        faixas.forEach((faixa, index) => {
            const li = document.createElement('li');
            li.className = "flex items-center gap-3 text-sm group/item cursor-default p-2 hover:bg-stone-50 rounded-md transition-colors";
            li.innerHTML = `
                <div class="flex items-center justify-center w-6 h-6 rounded bg-stone-100 text-rose-600 font-mono text-xs font-bold shrink-0 shadow-inner">
                    ${(index + 1).toString().padStart(2, '0')}
                </div>
                <span class="group-hover/item:text-rose-700 font-medium transition-colors">${faixa}</span>
                <svg class="w-4 h-4 ml-auto text-stone-300 opacity-0 group-hover/item:opacity-100 transition-opacity" fill="currentColor" viewBox="0 0 20 20"><path d="M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.536l8-1.6V12.11A4.37 4.37 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z"></path></svg>
            `;
            mFaixas.appendChild(li);
        });

        overlay.classList.remove('hidden');
        setTimeout(() => {
            overlay.classList.remove('opacity-0');
            content.classList.remove('scale-95');
            content.classList.add('scale-100');
        }, 10);
        document.body.style.overflow = 'hidden';
    }

    window.fecharModal = () => {
        overlay.classList.add('opacity-0');
        content.classList.remove('scale-100');
        content.classList.add('scale-95');
        setTimeout(() => {
            overlay.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }, 300);
    }

    overlay.addEventListener('click', (e) => { if (e.target === overlay) fecharModal(); });
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && !overlay.classList.contains('hidden')) fecharModal(); });
</script>
